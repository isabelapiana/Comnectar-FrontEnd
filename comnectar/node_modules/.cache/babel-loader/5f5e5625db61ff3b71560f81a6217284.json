{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\ProjetoIntegradorFront\\\\Comnectar-FrontEnd\\\\comnectar\\\\src\\\\components\\\\categorias\\\\cadastroCategoria\\\\CadastroCategoria.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { Container, Typography, TextField, Button } from \"@material-ui/core\";\nimport { buscaId, post, put } from '../../../service/Service';\nimport { useSelector } from 'react-redux';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction CadastroCategoria() {\n  _s();\n\n  let navigate = useNavigate();\n  const {\n    id\n  } = useParams();\n  const token = useSelector(state => state.tokens);\n  const [categorias, setCategorias] = useState({\n    id: 0,\n    classeCategoria: '',\n    modProdCategoria: '',\n    frescorCategoria: false\n  });\n  useEffect(() => {\n    if (token == \"\") {\n      toast.info('Para cadastrar categoria, é preciso estar logado!', {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: false,\n        draggable: false,\n        theme: \"colored\",\n        progress: undefined\n      });\n      navigate(\"/login\");\n    }\n  }, [token]);\n  useEffect(() => {\n    if (id !== undefined) {\n      findById(id);\n    }\n  }, [id]);\n\n  async function findById(id) {\n    buscaId(`/categorias/${id}`, setCategorias, {\n      headers: {\n        'Authorization': token\n      }\n    });\n  }\n\n  function atualizaCategoria(e) {\n    setCategorias({ ...categorias,\n      [e.target.name]: e.target.value\n    });\n  }\n\n  async function onSubmit(e) {\n    e.preventDefault();\n    console.log(\"categoria \" + JSON.stringify(categorias));\n\n    if (id !== undefined) {\n      console.log(categorias);\n      put(`/categorias/${id}`, categorias, setCategorias, {\n        headers: {\n          'Authorization': token\n        }\n      });\n      toast.success('Categoria atualizada com sucesso!', {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: false,\n        draggable: false,\n        theme: \"colored\",\n        progress: undefined\n      });\n    } else {\n      post(`/categorias`, categorias, setCategorias, {\n        headers: {\n          'Authorization': token\n        }\n      });\n      toast.success('Categoria cadastrada com sucesso!', {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: false,\n        draggable: false,\n        theme: \"colored\",\n        progress: undefined\n      });\n    }\n\n    back();\n  }\n\n  function back() {\n    navigate('/categorias');\n  }\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"sm\",\n    className: \"topo\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h3\",\n        color: \"textSecondary\",\n        component: \"h1\",\n        align: \"center\",\n        children: \"Cadastrar Classe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        value: categorias.classeCategoria,\n        onChange: e => atualizaCategoria(e),\n        id: \"classeCategoria\",\n        label: \"Classe\",\n        variant: \"outlined\",\n        name: \"classeCategoria\",\n        margin: \"normal\",\n        fullWidth: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        value: categorias.modProdCategoria,\n        onChange: e => atualizaCategoria(e),\n        id: \"modProdCategoria\",\n        label: \"Modo de produ\\xE7\\xE3o\",\n        variant: \"outlined\",\n        name: \"modProdCategoria\",\n        margin: \"normal\",\n        fullWidth: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        value: categorias.frescorCategoria,\n        onChange: e => atualizaCategoria(e),\n        id: \"frescorCategoria\",\n        label: \"Frescor\",\n        variant: \"outlined\",\n        name: \"frescorCategoria\",\n        margin: \"normal\",\n        fullWidth: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"primary\",\n        children: \"Cadastrar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CadastroCategoria, \"rDVfWJM4VCHIHRQZHk/b++vnaag=\", false, function () {\n  return [useNavigate, useParams, useSelector];\n});\n\n_c = CadastroCategoria;\nexport default CadastroCategoria;\n\nvar _c;\n\n$RefreshReg$(_c, \"CadastroCategoria\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","Container","Typography","TextField","Button","buscaId","post","put","useSelector","toast","CadastroCategoria","navigate","id","token","state","tokens","categorias","setCategorias","classeCategoria","modProdCategoria","frescorCategoria","info","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","theme","progress","undefined","findById","headers","atualizaCategoria","e","target","name","value","onSubmit","preventDefault","console","log","JSON","stringify","success","back"],"sources":["C:/Users/User/Desktop/ProjetoIntegradorFront/Comnectar-FrontEnd/comnectar/src/components/categorias/cadastroCategoria/CadastroCategoria.tsx"],"sourcesContent":["import React, { useState, useEffect, ChangeEvent } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { Container, Typography, TextField, Button } from \"@material-ui/core\";\r\nimport { buscaId, post, put } from '../../../service/Service';\r\nimport Categoria from '../../../models/Categoria';\r\nimport { useSelector } from 'react-redux';\r\nimport { TokenState } from '../../../store/tokens/tokensReducer';\r\nimport { toast } from 'react-toastify';\r\n\r\nfunction CadastroCategoria() {\r\n    let navigate = useNavigate();\r\n    const { id } = useParams<{id: string}>();\r\n    const token= useSelector<TokenState,TokenState[\"tokens\"]>(\r\n        (state) => state.tokens\r\n        );\r\n    const [categorias, setCategorias] = useState<Categoria>( {\r\n        id: 0,\r\n        classeCategoria: '',\r\n        modProdCategoria: '',\r\n        frescorCategoria: false\r\n    })\r\n\r\n    useEffect(() => {\r\n        if(token == \"\") {\r\n            toast.info('Para cadastrar categoria, é preciso estar logado!', {\r\n                position: \"top-right\",\r\n                autoClose: 2000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: false,\r\n                draggable: false,\r\n                theme: \"colored\",\r\n                progress: undefined,\r\n                });\r\n            navigate(\"/login\")\r\n        }\r\n    }, [token])\r\n\r\n    useEffect(() => {\r\n        if(id !== undefined) {\r\n            findById(id)\r\n        }\r\n    }, [id])\r\n\r\n    async function findById(id: string) {\r\n        buscaId(`/categorias/${id}`,setCategorias, {\r\n            headers: {\r\n                'Authorization': token\r\n            }\r\n        })\r\n    }\r\n\r\n    function atualizaCategoria(e: ChangeEvent<HTMLInputElement>) {\r\n        setCategorias({\r\n            ...categorias,\r\n            [e.target.name]: e.target.value,\r\n        })\r\n    }\r\n\r\n    async function onSubmit(e: ChangeEvent<HTMLFormElement>) {\r\n        e.preventDefault()\r\n        console.log(\"categoria \" + JSON.stringify(categorias))\r\n\r\n        if (id !== undefined) {\r\n            console.log(categorias)\r\n            put(`/categorias/${id}`, categorias, setCategorias, {\r\n                headers: {\r\n                    'Authorization': token\r\n                }\r\n            })\r\n            toast.success('Categoria atualizada com sucesso!', {\r\n                position: \"top-right\",\r\n                autoClose: 2000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: false,\r\n                draggable: false,\r\n                theme: \"colored\",\r\n                progress: undefined,\r\n                });\r\n        } else {\r\n            post(`/categorias`, categorias, setCategorias, {\r\n                headers: {\r\n                    'Authorization': token\r\n                }\r\n            })\r\n            toast.success('Categoria cadastrada com sucesso!', {\r\n                position: \"top-right\",\r\n                autoClose: 2000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: false,\r\n                draggable: false,\r\n                theme: \"colored\",\r\n                progress: undefined,\r\n                });\r\n        }\r\n        back()\r\n    }\r\n\r\n    function back() {\r\n        navigate('/categorias')\r\n    }\r\n\r\n    return(\r\n        <Container maxWidth=\"sm\" className=\"topo\">\r\n            <form onSubmit={onSubmit}>\r\n                <Typography variant=\"h3\" color=\"textSecondary\" component=\"h1\" align=\"center\">Cadastrar Classe</Typography>\r\n                <TextField value={categorias.classeCategoria} onChange={(e: ChangeEvent<HTMLInputElement>) => atualizaCategoria(e)} id=\"classeCategoria\" label=\"Classe\" variant=\"outlined\" name=\"classeCategoria\" margin=\"normal\" fullWidth/>\r\n                <TextField value={categorias.modProdCategoria} onChange={(e: ChangeEvent<HTMLInputElement>) => atualizaCategoria(e)} id=\"modProdCategoria\" label=\"Modo de produção\" variant=\"outlined\" name=\"modProdCategoria\" margin=\"normal\" fullWidth/>\r\n                <TextField value={categorias.frescorCategoria} onChange={(e: ChangeEvent<HTMLInputElement>) => atualizaCategoria(e)} id=\"frescorCategoria\" label=\"Frescor\" variant=\"outlined\" name=\"frescorCategoria\" margin=\"normal\" fullWidth/>\r\n                <Button type=\"submit\" variant=\"contained\" color=\"primary\">\r\n                    Cadastrar\r\n                </Button>\r\n            </form>\r\n        \r\n\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default CadastroCategoria;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}